# 工具工作流：把 Claude Code 装进口袋（手机 1:1 远程接管）

> **核心目标**：实现“随时随地”驱动顶尖 Agent 干活，让手机成为你电脑终端的延伸（而不是另一个缩水客户端）。

## 1. 先说结论：三种方案怎么选？

### 方案 A：Claude 官方 App（云端沙盒）

- **适合**：临时跑云端项目、轻任务、对本地工程与真机调试无要求。
- **限制**：通常更偏云端沙盒；对“本地项目 + 真实环境 + 真机调试”的覆盖有限。

### 方案 B：tmux + Tailscale（推荐：移动端最强形态）

- **适合**：想要 **1:1 还原电脑端 Claude Code 体验** 的人。
- **本质**：手机只是窗口；真正跑的是家里那台电脑，所以你电脑上的配置（commands/skills/subagents/密钥环境）天然复用。
- **额外收益**：会话无缝接力，电脑聊到一半，手机继续聊；跑着的任务不断线。

### 方案 C：移动端专用客户端（如 Happy Coder 一类）

- **适合**：懒得折腾、只想随时看进度/补一句指令的场景。
- **风险**：多会话/弱网下稳定性可能不如“直接接管电脑终端”。

---

## 2. 概念补丁：什么是“智力套利”？

由潘致雄（@nake13）提出。通过支付固定月费（如 \(20/mo\) 或 \(200/mo\)），在模型运行成本远超订阅费的情况下，通过高频高效调用，把订阅费的产出“榨干”。

这篇教程讨论的是：**如何把套利的“调用场景”从工位扩展到地铁、机场、逛街与沙发**。

---

## 3. 准备清单（推荐组合）

- **宿主端 (Host)**：一台网络稳定的 PC/Mac（建议家里常开，或至少能保持不休眠）。
- **Agent 端 (CLI)**：Claude Code / Codex / Gemini CLI / Aider / OpenCode 等。
- **会话保持**：`tmux`（或 `screen`）。
- **移动端 SSH 客户端**：Termius / Blink Shell / Prompt（任选）。
- **远程网络**：Tailscale（推荐；比直接暴露公网 SSH 安全得多）。

---

## 4. 实操：tmux + Tailscale（可复现步骤）

### Step 1：宿主端开启 SSH

以 macOS 为例：

- 系统设置 → 通用 → 共享 → 打开「远程登录」

（Windows/Linux 也可以，原则一样：确保手机能通过 SSH 登录。）

### Step 2：安装并启用 tmux

macOS：

```bash
brew install tmux
```

### Step 3：创建会话并启动 Claude Code

```bash
tmux new -s claude
```

在该 tmux 会话中启动你的 CLI Agent（示例）：

```bash
claude-code
```

### Step 4：配置 Tailscale（电脑 + 手机）

两端登录同一个账号。之后手机通过 Tailscale 分配的地址连接宿主端（外网也能像内网一样连）。

### Step 5：手机 SSH 连接并接管 tmux 会话

手机端连上后：

```bash
tmux attach -t claude
```

至此，你在手机上看到的就是电脑上“正在跑”的 Claude Code 会话。

---

## 5. 手机体验优化（强烈建议）

### 5.1 触控滑动滚动（tmux）

tmux 默认不友好，建议在宿主端写入 `~/.tmux.conf`：

```bash
set -g mouse on
set -sg escape-time 0
```

然后重新加载：

```bash
tmux source-file ~/.tmux.conf
```

### 5.2 多窗口/多会话切换

常用快捷键（Termius 一般都有辅助键盘）：

- 新建窗口：`Ctrl-b` 然后按 `c`
- 切换窗口：`Ctrl-b` 然后按 `n`（下一个）或 `p`（上一个）

### 5.3 防止宿主端睡眠（否则出门连不上）

macOS：

```bash
caffeinate -dimsu
```

也可以在系统设置里打开“保持唤醒/防止自动睡眠”等选项。

---

## 6. 适用场景（你会真的用上的）

- **突发灵感**：路上想起一个 bug 修复点，手机下指令，回家 PR 已经 ready。
- **长时任务监控**：Agent 在重构/跑测试/拉数据，手机随时看进度，必要时插一句纠偏。
- **低摩擦接力**：电脑聊到一半离开工位，手机继续聊，上下文不断。

---

## 7. 安全与输入效率

- **安全性**：优先用 Tailscale 这类私有网络，不要把 SSH 端口裸露公网。
- **输入效率**：
  - 手机端建议用语音输入（长 prompt 省很多时间）
  - 为常用指令准备 snippets（例如 `PLAN/DO/CHECK`、测试命令、日志定位命令）

---

> **一句话总结**：不要把移动端当“缩水客户端”，而要把它当“随身终端窗口”。通过 SSH + tmux + Tailscale，你的电脑就是永远在线的 Agent 工厂，而手机只是你随时可拿起的控制台。






















