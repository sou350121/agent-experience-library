# 04 架构：让 AI 在轨道里写，不要越写越乱

很多小白会发现：AI 刚开始写的小程序很棒，但随着功能增加，代码就变得一团糟，甚至最后跑不起来。
这就是因为你缺少了**“架构认知”**。

## 1. 为什么 AI 需要“轨道”？
你可以把 AI 想象成一个“极速施工队”。如果你不给它图纸和围栏，它会怎么快就怎么盖。
- 它会在“厨房”里装“马桶”（因为离下水道近）。
- 它会把“电线”埋在“水管”里（因为省事）。

**架构，就是你给 AI 施工队划定的“区域功能图”。**

## 2. 小白也要懂的三个基础概念

### A. 物理导轨（文件夹该放什么）
别让 AI 随便新建文件夹。你要告诉它：
- `docs/` 只放文档。
- `src/` 只放代码。
- `static/img/` 只放图片。
这样当你找东西时，AI 也不会迷路。

### B. SSOT（唯一事实源）
- **大白话**：全家只有一个地方贴着“明天的日程表”。
- **在代码里**：关于某个逻辑（比如计算价格），只能在一个文件里写。如果三个地方都写了计算价格，当你想打折时，你得改三处，漏掉一处就出错。
- 进阶阅读：[单一事实源](../architecture-governance/00-glossary-for-beginners.mdx)

### C. 逻辑契约（说好了不许变）
如果你让 AI 写一个“天气预报”功能，你要规定好：
- “我给你城市名，你**必须**还给我温度和天气状况，不能给我别的东西。”
这就是契约。有了契约，你换一个 AI 或换一个数据源，你的程序都不会崩。

## 3. 如何在对话中“按住”AI？
当你发现 AI 开始乱写时，用下面这几句话把它的思路拽回来：

1. **“先写计划，再动代码”**：
   - 就像装修前先看效果图。
2. **“这个功能应该放在哪个现有的文件里？不要新建文件”**：
   - 维护你的目录导轨。
3. **“参考现有的代码风格和结构”**：
   - 让 AI 模仿你已经建立好的“好规矩”。

## 4. 最小练习（5 分钟）
1. 看看你现在的项目文件夹。
2. 问问 AI：“你觉得我现在的文件夹结构合理吗？请根据本仓库的架构治理原则给我 3 个优化建议。”
3. 如果它建议你把一些杂乱的文件归类，**执行它**。你会感受到“整洁”带来的生产力。

## 5. 进阶：如果你想做一个大项目
当你准备挑战更复杂的工程时，请深度阅读：
- [架构治理专项主页](../architecture-governance/README.mdx)

**记住：在 AI 时代，架构师就是那个“划线的人”。线划对了，AI 就能帮你跑完剩下的 99%。**
