# 麦当劳中国用运筹学驯服供应链：52,500,000 个变量、10 分钟求解、真金白银落地

当一家巨头计划在几年内把门店扩张到 **10,000 家**，供应链网络设计（SCND）会从“算运费”升级成“算命”：哪里建/关/留分发中心（DC），工厂怎么供、DC 怎么转、门店怎么收，任何一个决定都会在 5 年周期里指数级放大。

麦当劳中国的做法很直接：**用混合整数规划（MIP）把网络设计做成可验证的数字孪生**，并通过规模缩减把一个“求不动”的模型变成“能做上百次场景分析”的产品级系统。

（图片：全国门店热力图 + DC 覆盖示意图，建议放 `static/img/mcd-scnd/overview.jpg`）

---

## 这不是传闻：INFORMS 论文给出了完整工程细节

这不是“营销案例”，而是 INFORMS Journal on Applied Analytics 的免费公开文章：

- 论文：[`https://pubsonline.informs.org/doi/10.1287/inte.2024.0179`](https://pubsonline.informs.org/doi/10.1287/inte.2024.0179)  
- Cite：Tang et al. (2025) *McDonald’s China Adopts Operations Research for Network Design*.

论文摘要中明确写到：项目带来 **millions of dollars** 物流成本节省，并实现 **>10% CO2 减排**；且通过 size-reduction 使得团队能在达成共识前做 **hundreds of scenarios**。

---

## 1) 问题本质：多周期、多层级、多产品的 SCND

论文把它拆成一个“三层网络”的数字孪生：

- 工厂 → DC（入库）
- DC → 需求点（出库）

并且要在 2028 前支持扩张与可持续目标：成本最低，同时减排（以及大量业务约束：产能、DC 分区容量、开关逻辑、不可“关了再开”等）。

这类问题的难点不在“建模本身”，而在 **规模**。

---

## 2) 瓶颈：一个变量就能爆炸到 5,250 万

论文点名最大块的变量来自“出库流量”维度：  

- 潜在 DC（约 200）
- 城市级需求点（约 350）
- SKU 组（约 150）
- 规划年（5）

仅这一项就到 **52.5 million** 量级。论文也坦言：原始模型“took over 10 hours to solve but did not achieve an optimal solution”。

这就决定了：**工程上必须先做规模缩减，否则一切都是空谈。**

---

## 3) 规模缩减的三板斧：聚合、剪枝、分解

### 3.1 维度聚合（把 10,000 门店压成 350 城市）

论文给了两个关键聚合：

- **需求聚合**：门店级 → 城市级（约 10,000 → 350）
- **SKU 聚合**：2,000+ SKU → 约 150 组（把可互换 SKU 合并，例如不同供应商的同类辣椒酱）

这一步的意义：不是“降低精度”，而是把问题从“不可解”变成“可用作决策辅助”。

### 3.2 逻辑剪枝（剔除不可能的流）

中国地理太大，很多流向从常识上就是不合理的（东西跨区、南北跨区）。论文写到他们通过逻辑剔除 **约 60% 变量**。

这属于典型的 **domain constraint**：用业务常识换求解可行性。

### 3.3 消除冗余维度（出库流量去掉 SKU 维度）

这是最“狠”的一刀：论文观察到一个城市绝大多数情况下由单一 DC 覆盖全部 SKU，于是把出库变量从 \(of_{i,d,s,t}\) 改成 \(of_{i,d,t}\)，SKU 通过一个比例参数 \(\pi_{d,t,s}\) 回填到流量平衡约束里。

这一步的意义是把“爆炸维”直接砍掉，但前提是：你对业务模式有把握（城市单 DC 覆盖是稳定规律）。

### 3.4 模型分解（先跑单年筛候选，再跑 5 年全局）

他们先跑 5 个单年模型做候选池过滤，再跑 5 年全局模型。虽然总共跑 6 个模型，但整体求解更快。

最终效果：论文写到把求解从 **20 hours** 降到 **<10 minutes**（并达到 optimality，tolerance \(10^{-6}\)），从而支持 “hundreds of scenarios”。

---

## 4) 为什么这类项目能落地？答案不是 solver，而是 GUI

论文把“可解释性”当成硬要求：  
模型给出最优解只是第一步，能不能让管理层接受，是另一场战。

他们做了一套 GUI：地图/热力图/分年成本拆解/对比场景并排展示，让不同 stakeholder 能看懂“为什么是这个解”，并能把人类约束回注到下一轮场景。

这其实是一条规律：

> **大规模 OR 项目落地 = 模型正确 × 数据可信 × 可视化可说服 × 迭代足够快**

---

## 5) 商业价值（论文披露）

论文披露的两个结果非常硬：

- 通过模型证据取消青岛（Tsingtao）面包工厂建设，避免 **约 USD 63.75 million** 投资
- 通过优化网络布局，平均每年节省 **约 USD 8.9 million**，并实现 **10.6% CO2 减排**

（图片：选址对比地图 + 成本饼图，建议放 `static/img/mcd-scnd/value.jpg`）

---

## 结论：运筹学的“护城河”在规模缩减与产品化

这篇论文最值得偷师的不是“写了个 MILP”，而是：

- 他们知道哪里必须精确（约束、逻辑、成本拆解）
- 也知道哪里必须近似（聚合、剪枝、维度消除）
- 更重要：把求解速度压到 10 分钟以内，才能让“战略规划”进入“可迭代的产品形态”

---

## 参考链接

- INFORMS（Free access）：[`https://pubsonline.informs.org/doi/10.1287/inte.2024.0179`](https://pubsonline.informs.org/doi/10.1287/inte.2024.0179)

> 我把这套“SCND 大规模 MIP 怎么落地”的可复用 checklist 与模型缩减套路，沉淀到 Docs：`docs/case-studies/mcdonalds-china-scnd-mip.mdx`。
